% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{carry_forward_incr}
\alias{carry_forward_incr}
\title{Carry Forward with Incremental Values}
\usage{
carry_forward_incr(x, pid_mrk, recur, y, byref)
}
\arguments{
\item{x}{An integer vector to process (must be sorted by year/time within person)}

\item{pid_mrk}{A logical vector marking new person IDs (TRUE for new person, FALSE otherwise).
Data must be grouped by person and sorted by year/time.}

\item{recur}{Logical; if FALSE (non-recursive), continuously increment when previous >= y;
if TRUE (recursive), increment only when both current >= y AND previous >= y}

\item{y}{The threshold value for triggering incremental carry-forward behavior}

\item{byref}{Logical; if TRUE, modifies `x` in place, if FALSE returns a new vector}
}
\value{
An integer vector with incremented values carried forward according to the specified mode
}
\description{
Propagates and increments values forward through an integer vector based on person ID markers.
The function operates in two distinct modes controlled by the `recur` parameter:
}
\details{
**Non-Recursive Mode (recur = FALSE):**
- At each position i, if the position is not a new person AND the previous value >= y,
  then set current value = previous value + 1
- This creates continuously incrementing sequences (y, y+1, y+2, y+3, ...) within each person
- Incrementing stops only when a new person boundary is encountered

**Recursive Mode (recur = TRUE):**
- At each position i, if the position is not a new person AND both current value >= y AND previous value >= y,
  then set current value = previous value + 1
- This requires both the current and previous positions to already be above threshold y
- If the current value drops below y, incrementing stops and must be "restarted" by having both values >= y again

**Important**: The input data must be grouped by person ID and sorted by year/time within each person.
This ensures proper temporal ordering for the incremental carry-forward operation.

**Missing Values**: Missing values (NA) in the input vectors are handled gracefully. Positions
with missing person ID markers or values are skipped during processing, preserving existing values.
}
